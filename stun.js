!function(e){function t(t){for(var n,o,i=t[0],l=t[1],c=t[2],d=0,h=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);h.length;)h.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={2:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;s.push([89,0]),r()}({19:function(e,t,r){"use strict";var n=r(0),a=r(10);class s{constructor(e,t,r){this.buffer=e,this.byteStart=t,this.byteLength=r}size(){return this.byteLength}toDataView(){return new DataView(this.buffer,this.byteStart,this.byteLength)}toUint8Array(){return new Uint8Array(this.buffer,this.byteStart,this.byteLength)}readUTF8(){return(new TextDecoder).decode(this.toUint8Array())}toHex(){return Array.from(this.toUint8Array()).map(e=>e.toString(16).padStart(2,"0")).join("")}contains(e){return e.byteStart>=this.byteStart&&e.byteStart+e.byteLength<=this.byteStart+this.byteLength}bytes(e,t){if(null==t&&(t=this.byteLength-e),e<0)throw new Error(`byteStart is ${e}, but should be non-negative.`);if(e+t>this.byteLength)throw new Error("New subrange does not fit within current subrange.");return new s(this.buffer,this.byteStart+e,t)}bits(e,t){return new o(this.buffer,8*this.byteStart+e,t)}readBits(){let e=[],t=this.toUint8Array();for(;e.length<8*this.byteLength;){let r=t[Math.floor(e.length/8)],n=e.length%8;e.push(128==(r<<n&128))}return e}readUIntBE(){return this.bits(0,8*this.byteLength).readUIntBE()}chunks(e){let t=[],r=0;for(;r<this.byteLength;)t.push(this.bytes(r,Math.min(e,this.byteLength-r))),r+=e;return t}}class o{constructor(e,t,r){this.buffer=e,this.bitStart=t,this.bits=r}enclosingByteRange(){let e=Math.floor(this.bitStart/8),t=Math.floor((this.bitStart+this.bits-1)/8)+1;return new s(this.buffer,e,t-e)}readBits(){let e=this.enclosingByteRange(),t=e.readBits(),r=this.bitStart-8*e.byteStart;return t.slice(r,r+this.bits)}readUIntBE(){let e=0,t=this.readBits();for(let r=0;r<t.length;++r)t[t.length-1-r]&&(e+=Math.pow(2,r));return e}readBool(){let e=this.readBits();return a.assert.equal(e.length,1),e[0]}}var i=r(94),l=r(53),c=r(97);function u(e){let t=window.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}var d=r(96),h=r(93),p=r(95),f=r(98),m=r(30),b=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function i(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((n=n.apply(e,t||[])).next())}))};class y extends n.Component{constructor(e){super(e)}render(){return n.createElement(d.a,{defaultActiveKey:this.props.defaultBase64?"base64":"hex",id:"binary-input-tabs"},n.createElement(h.a,{eventKey:"hex",title:"Hex"},n.createElement(p.a,null,n.createElement(p.a.Group,{controlId:"exampleForm.ControlTextarea1"},n.createElement(p.a.Control,{as:"textarea",rows:"3",onChange:e=>{let t=function(e){return new Uint8Array(e.match(/[\da-f]{2}/gi).map((function(e){return parseInt(e,16)}))).buffer}(e.target.value.trim());this.props.onBuffer(t)}})))),n.createElement(h.a,{eventKey:"base64",title:"Base64"},n.createElement(p.a,null,n.createElement(p.a.Group,{controlId:"exampleForm.ControlTextarea1"},n.createElement(p.a.Control,{as:"textarea",rows:"3",onChange:e=>{let t=u(e.target.value.trim());this.props.onBuffer(t)},defaultValue:this.props.defaultBase64})))),n.createElement(h.a,{eventKey:"file",title:"File"},n.createElement(p.a,null,n.createElement(m.a,{onDrop:e=>b(this,void 0,void 0,(function*(){let t=e[0],r=yield t.arrayBuffer();this.props.onBuffer(r)}))},({getRootProps:e,getInputProps:t})=>n.createElement("div",Object.assign({},e()),n.createElement(f.a,{className:"text-center"},n.createElement(f.a.Body,null,n.createElement(f.a.Text,null,"Drag and drop file here, or click to browse."),n.createElement("input",Object.assign({},t())))))))))}}class g extends n.Component{constructor(e){super(e)}render(){let e=this.props.data;return n.createElement("div",{style:{fontFamily:"monospace"}},e.chunks(16).map((e,t)=>n.createElement("div",{key:t},e.chunks(8).map((e,t)=>n.createElement("span",{style:{paddingRight:"10px"},key:t},e.chunks(1).map((e,t)=>{let r=!1;return this.props.selected&&(this.props.selected instanceof s?r=this.props.selected.contains(e):this.props.selected instanceof o&&(r=this.props.selected.enclosingByteRange().contains(e))),n.createElement("span",{style:{paddingRight:"5px",backgroundColor:r?"#dedede":""},key:t},e.toHex())}))))))}}class E extends n.Component{constructor(e){super(e),this.state={selected:null}}render(){let e=this.props.tree,t="";return e.error&&(t="#ff6e6e"),this.props.selected==e&&(t="#dedede"),e.children.length>0?n.createElement("details",{style:{wordWrap:"break-word",backgroundColor:t,paddingLeft:"5px"},open:!0},n.createElement("summary",{onClick:()=>{this.props.onSelect&&this.props.onSelect(e)}},e.label),e.children.map((e,t)=>n.createElement("div",{key:t,style:{paddingLeft:"15px"}},n.createElement(E,{tree:e,onSelect:this.props.onSelect,selected:this.props.selected})))):n.createElement("div",{style:{backgroundColor:t,paddingLeft:"5px"},onClick:()=>{this.props.onSelect&&this.props.onSelect(e)}},e.label)}}class w extends n.Component{constructor(e){super(e),this.state={}}render(){return n.createElement(n.Fragment,null,n.createElement(i.a,null,n.createElement(l.a,null,n.createElement(E,{tree:this.props.tree,selected:this.state.selected,onSelect:e=>this.setState({selected:e})})),n.createElement(l.a,null,n.createElement(g,{data:this.props.data,selected:this.state.selected?this.state.selected.range:void 0}))))}}const x=r(46),S=x.parse(window.location.hash);function v(e){return S[e]}r.d(t,"a",(function(){return B}));class B extends n.Component{constructor(e){super(e),this.state={kind:"noData"}}componentDidMount(){if(S["data"]){let e=u(v("data"));this.loadBuffer(e)}}loadBuffer(e){var t,r;t="data",r=function(e){let t="",r=new Uint8Array(e);for(let e of r)t+=String.fromCharCode(e);return window.btoa(t)}(e),S[t]=r,window.location.hash=x.stringify(S);let n=new s(e,0,e.byteLength);try{let e=this.props.inspect(n);this.setState({kind:"decodeSuccess",data:n,tree:e})}catch(e){this.setState({kind:"decodeFailure",data:n,error:e})}}render(){return n.createElement(n.Fragment,null,n.createElement(y,{inputName:"input",defaultBase64:v("data"),onBuffer:e=>this.loadBuffer(e)}),"decodeSuccess"==this.state.kind&&n.createElement(w,{tree:this.state.tree,data:this.state.data}),"decodeFailure"==this.state.kind&&n.createElement(i.a,null,n.createElement(l.a,null,n.createElement(c.a,{variant:"danger"},n.createElement(c.a.Heading,null,this.state.error.toString()),n.createElement("code",null,n.createElement("pre",null,this.state.error.stack)))),n.createElement(l.a,null,n.createElement(g,{data:this.state.data}))),"noData"==this.state.kind&&n.createElement("div",null,"No data provided yet."))}}},5:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n{constructor(e,t,r=[],n){this.label=e,this.range=t,this.children=r,this.error=n}}},89:function(e,t,r){"use strict";r.r(t);var n=r(5),a=r(0),s=r(17),o=r(19),i=r(91);const l=new Map;function c(e){let t=[],r=e;for(;r.byteLength>0;){let e=r.bytes(0,2),a=r.bytes(2,2),s=a.readUIntBE();s%4!=0&&(s+=4-s%4);let o=r.bytes(0,4+s),i=r.bytes(4,a.readUIntBE()),c=l.get(e.readUIntBE()),u=[new n.a(`Type: 0x${e.toHex()}`,e),new n.a(`Length: ${a.readUIntBE()}`,e)];c?u=u.concat(c.parse(i)):u.push(new n.a(`Value: ${i.toHex()}`,i)),t.push(new n.a(c?c.name:"UNKNOWN",o,u)),r=r.bytes(4+s)}return new n.a("Attributes",e,t)}l.set(1,{name:"MAPPED-ADDRESS",parse:e=>{let t=e.bytes(1,1),r=e.bytes(2,2),a="UNKNOWN";switch(t.readUIntBE()){case 1:a="IPv4";break;case 2:a="IPv6"}return[new n.a(`Family: ${a} (0x${t.toHex()})`,t),new n.a(`Port: ${r.readUIntBE()}`,r)]}}),l.set(6,{name:"USERNAME",parse:e=>[new n.a(`Username: ${e.readUTF8()}`,e)]}),l.set(37,{name:"USE-CANDIDATE",parse:e=>[]}),l.set(36,{name:"PRIORITY",parse:e=>[new n.a(`Priority: ${e.readUIntBE()}`,e)]}),l.set(8,{name:"MESSAGE-INTEGRITY",parse:e=>[new n.a(`HMAC-SHA1: 0x${e.toHex()}`,e)]}),l.set(32808,{name:"FINGERPRINT",parse:e=>[new n.a(`CRC-32: 0x${e.toHex()}`,e)]}),l.set(32809,{name:"ICE-CONTROLLED",parse:e=>[new n.a(`Tiebreaker: 0x${e.toHex()}`,e)]}),l.set(32810,{name:"ICE-CONTROLLING",parse:e=>[new n.a(`Tiebreaker: 0x${e.toHex()}`,e)]}),l.set(49239,{name:"NETWORK-COST",parse:e=>{let t=e.bytes(0,2),r=e.bytes(2,2);return[new n.a(`Network ID: ${t.readUIntBE()}`,t),new n.a(`Network Cost: ${r.readUIntBE()}`,r)]}}),s.render(a.createElement(i.a,null,a.createElement("div",{className:"page-header"},a.createElement("h1",null,"STUN Packet Inspector"),"Based off ",a.createElement("a",{href:"https://tools.ietf.org/html/rfc5389"},"RFC 5389"),".",a.createElement("hr",null)),a.createElement(o.a,{inspect:function(e){let t=e.bits(2,14),r=e.bytes(2,2),a=e.bytes(4,4),s=e.bytes(8,12);return new n.a("STUN Packet",e,[new n.a(`Message Type: ${t.readUIntBE()}`,t),new n.a(`Message Length: ${r.readUIntBE()}`,r),new n.a(`Magic Cookie: ${a.toHex()}`,a),new n.a(`Transaction ID: ${s.toHex()}`,s),c(e.bytes(20,r.readUIntBE()))])}})),document.getElementById("root"))}});