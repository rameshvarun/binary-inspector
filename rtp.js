(()=>{"use strict";var e,t={3488:(e,t,r)=>{function n(e){return new Uint8Array(e.match(/[\da-f]{2}/gi).map((function(e){return parseInt(e,16)}))).buffer}function a(e){let t="",r=new Uint8Array(e);for(let e of r)t+=String.fromCharCode(e);return window.btoa(t)}function s(e){let t=window.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}function o(e){return e.split(/\r?\n/g)}function i(e,t=10){return e.byteLength>t?(e=e.bytes(0,t)).toHex()+"...":e.toHex()}r.d(t,{aS:()=>n,sM:()=>a,RG:()=>s,uq:()=>o,QV:()=>i})},4477:(e,t,r)=>{var n=r(1977),a=r(7294),s=r.n(a),o=r(3935),i=r(806),l=r(5327),d=r(3855),m=r(2122),u=r(9756),c=r(4184),f=r.n(c),b=r(6792),B=r(4873),p=s().forwardRef((function(e,t){var r=e.bsPrefix,n=e.variant,a=e.size,o=e.active,i=e.className,l=e.block,d=e.type,c=e.as,p=(0,u.Z)(e,["bsPrefix","variant","size","active","className","block","type","as"]),y=(0,b.vE)(r,"btn"),w=f()(i,y,o&&"active",y+"-"+n,l&&y+"-block",a&&y+"-"+a);if(p.href)return s().createElement(B.Z,(0,m.Z)({},p,{as:c,ref:t,className:f()(w,p.disabled&&"disabled")}));t&&(p.ref=t),c||(p.type=d);var E=c||"button";return s().createElement(E,(0,m.Z)({},p,{className:w}))}));p.displayName="Button",p.defaultProps={variant:"primary",active:!1,disabled:!1,type:"button"};const y=p;var w,E,h=r(4536),I=r(4051),$=r(1555),P=r(5114),U=r(7343),L=r(3488),g=r(2711),v=r(4960);function N(e){switch(e){case E.NB:return 8e3;case E.MB:return 12e3;case E.WB:return 16e3;case E.SWB:return 24e3;case E.FB:return 48e3}}function R(e){switch(e){case E.NB:return 4e3;case E.MB:return 6e3;case E.WB:return 8e3;case E.SWB:return 12e3;case E.FB:return 2e4}}!function(e){e.SILK_ONLY="SILK-only",e.HYBRID="Hybrid",e.CELT_ONLY="CELT-only"}(w||(w={})),function(e){e.NB="NB",e.MB="MB",e.WB="WB",e.SWB="SWB",e.FB="FB"}(E||(E={}));const C=[10,20,40,60],F=[10,20],S=[2.5,5,10,20];function O(e,t,r){let n=t/function(e){switch(e){case 10:return 10;case 20:case 40:case 60:return 20;default:throw new Error(`Unexpected Opus frame size ${e}.`)}}(t),a=r?2:1,s=r?["Mid","Side"]:["Mono"],o=[],i=e.bits(0);for(let e=0;e<a;++e){for(let t=0;t<n;++t){let r=i.bits(0,1);i=i.bits(1),o.push(new g.m(`${s[e]}, Frame ${t+1}, VAD Flag: ${r.readBool()}`,r))}let t=i.bits(0,1);i=i.bits(1),o.push(new g.m(`${s[e]}, LBRR Flag: ${t.readBool()}`,t))}return new g.m(`SILK Frame (${n} SILK Frames)`,e,o)}function T(e,t,r,n){return t==w.SILK_ONLY?O(e,r,n):t==w.HYBRID?new g.m("Hybrid Frame",e,[O(e,r,n)]):new g.m(`Compressed Frame (${e.size()} bytes)`,e,[])}function k(e){let t=e.bytes(0,1).readUIntBE();return t<=251?[t,e.bytes(0,1)]:[4*e.bytes(1,1).readUIntBE()+t,e.bytes(0,2)]}function H(e,t,r,n,a){let s=[];try{if(0==e)s=[T(t,r,n,a)];else if(1==e)(0,v.assert)(t.size()%2==0,"In packing mode 2, the amount of bytes available for frames must be even."),s=[T(t.bytes(0,t.byteLength/2),r,n,a),T(t.bytes(t.byteLength/2),r,n,a)];else if(2==e)v.assert.fail("Packing mode 2 unimplemented.");else if(3==e){let e=t.bytes(0,1),o=e.bits(0,1),i=e.bits(1,1),l=e.bits(2,6);if(s.push(new g.m("Mode: "+(o.readBool()?"VBR":"CBR"),o)),s.push(new g.m(`Padding: ${i.readBool()}`,i)),s.push(new g.m(`Frame Count: ${l.readUIntBE()}`,l)),i.readBool()&&v.assert.fail("Frame padding not implemented."),o.readBool()){let e=[],o=t.bytes(1);for(let t=0;t<l.readUIntBE()-1;++t){let[t,r]=k(o);e.push([t,r]),o=o.bytes(r.size())}s.push(new g.m(`Frame Lengths: ${e.length}`,t.bytes(1,o.byteStart-e[0][1].byteStart),e.map((e=>new g.m(`${e[1].size()}-byte Frame Length: ${e[0]}`,e[1])))));for(let[t,i]of e){let e=o.bytes(0,t);s.push(T(e,r,n,a)),o=o.bytes(t)}let i=o;s.push(T(i,r,n,a))}else v.assert.fail("CBR mode not implemented.")}return new g.m("Compressed Frames",t,s)}catch(e){return new g.m(`Malformed Frames: ${e.message}`,t,s,e)}}var M,D;!function(e){e.BICUBIC="Bicubic",e.BILINEAR="Bilinear",e.NONE="None",e.OTHER="Other"}(M||(M={})),function(e){e.NORMAL="Normal",e.SIMPLE="Simple",e.NONE="None",e.OTHER="Other"}(D||(D={})),new Map;const x=[{name:"Opus (RFC 7587)",id:"opus",inspect:function(e){v.assert.isAtLeast(e.size(),1,"Opus packet must be at least one byte.");let t=e.bytes(0,1),r=t.bits(0,5),n=t.bits(5,1),a=t.bits(6,2),[s,[o,i,l]]=function(e){let[t,r,n]=function(e){if(e<=3)return[w.SILK_ONLY,E.NB,C[e]];if(e<=7)return[w.SILK_ONLY,E.MB,C[e-4]];if(e<=11)return[w.SILK_ONLY,E.WB,C[e-8]];if(e<=13)return[w.HYBRID,E.SWB,F[e-12]];if(e<=15)return[w.HYBRID,E.FB,F[e-14]];if(e<=19)return[w.CELT_ONLY,E.NB,S[e-16]];if(e<=23)return[w.CELT_ONLY,E.WB,S[e-20]];if(e<=27)return[w.CELT_ONLY,E.SWB,S[e-24]];if(e<=31)return[w.CELT_ONLY,E.FB,S[e-28]];throw new Error(`Unknown config ${e}.`)}(e.readUIntBE());return[new g.m(`Config: ${e.readUIntBE()} (${t}, ${r}, ${n}ms)`,e,[new g.m(`Mode: ${t}`,e),new g.m(`Bandwidth: ${r} (${R(r)}Hz), Sample Rate: ${N(r)}Hz`,e),new g.m(`Frame Size: ${n}ms`,e)]),[t,r,n]]}(r);return new g.m("Opus Packet",e,[s,new g.m("Channels: "+(n.readBool()?"Stereo":"Mono"),n),new g.m(`Frame Packing Mode: ${a.readUIntBE()} (${["1 Frame","2 Frame, Equal Size","2 Frames, Different Size","Arbitrary Frames"][a.readUIntBE()]})`,a),H(a.readUIntBE(),e.bytes(1),o,l,n.readBool())])},defaultPT:111},{name:"RED (RFC 2198)",id:"red",inspect:function(e,t){let r=[],n=[],a=[],s=e;for(;;){let e=s.bits(0,1),t=s.bits(1,7);if(!e.readBool()){let e=s.bits(0,1),t=s.bits(1,7);r.push(new g.m("Block Header (Primary Encoding)",s.bytes(0,1),[new g.m(`F: ${e.readBool()}`,e),new g.m(`Payload Type: ${t.readUIntBE()}`,t)])),n.push(t.readUIntBE()),s=s.bytes(1);break}{let o=s.bits(8,14),i=s.bits(22,10);r.push(new g.m("Block Header",s,[new g.m(`F: ${e.readBool()}`,e),new g.m(`Payload Type: ${t.readUIntBE()}`,t),new g.m(`Timestamp Offset: ${o.readUIntBE()}`,o),new g.m(`Block Length: ${i.readUIntBE()} bytes`,i)])),n.push(t.readUIntBE()),a.push(i.readUIntBE()),s=s.bytes(4)}}for(let e of n){if(a.length>0)throw new Error("Unimplemented.");if(t.has(e)){let n=t.get(e),a=n.inspect(s,t);r.push(new g.m(`Payload: ${n.name}`,s,[a]))}else r.push(new g.m(`Payload: ${L.QV(s)}`,s))}return new g.m("Red Packet",e,r)},defaultPT:108},{name:"VP8 (RFC 7741)",id:"vp8",inspect:function(e){let t=e,r=t.bits(0,1),n=(t.bits(1,1),t.bits(2,1)),a=t.bits(3,1),s=(t.bits(4,1),t.bits(5,3));t=t.bytes(1);let o=[new g.m(`X (Extended Control Bits): ${r.readBool()}`,r),new g.m(`N (Non-reference Frame): ${n.readBool()}`,n),new g.m(`S (Start of Partition): ${a.readBool()}`,a),new g.m(`PID (Partition Index): ${s.readUIntBE()}`,s)];if(r.readBool()){let e=t.bits(0,1),r=t.bits(1,1),n=t.bits(2,1),a=t.bits(3,1);if(t.bits(4,4),t=t.bytes(1),o.push(new g.m(`I (PictureID present): ${e.readBool()}`,e),new g.m(`L (TL0PICIDX present): ${r.readBool()}`,r),new g.m(`T (TID present): ${n.readBool()}`,n),new g.m(`K (KEYIDX present): ${a.readBool()}`,a)),e.readBool()){let e=t.bits(0,1),r=null;e.readBool()?(r=t.bits(1,15),t=t.bytes(2)):(r=t.bits(1,7),t=t.bytes(1)),o.push(new g.m(`M: ${e.readBool()}`,e),new g.m(`PictureID: ${r.readUIntBE()}`,r))}if(r.readBool()){let e=t.bytes(0,1);t=t.bytes(1),o.push(new g.m(`TL0PICIDX: ${e.readUIntBE()}`,e))}if(n.readBool()||a.readBool()){let e=t.bits(0,2),r=t.bits(2,1),n=t.bits(3,5);t=t.bytes(1),o.push(new g.m(`TID: ${e.readUIntBE()}`,e),new g.m(`Y: ${r.readBool()}`,r),new g.m(`KEYIDX: ${n.readUIntBE()}`,n))}}if(a.readBool()&&0===s.readUIntBE()){let e=t.bits(7,1),r=t.bits(4,3),n=t.bits(3,1);o.push(new g.m(`P: ${e.readBool()} (${e.readBool()?"Interframe":"Key frame"})`,e),new g.m(`VER: ${r.readUIntBE()} (${function(e){switch(e){case 0:return[M.BICUBIC,D.NORMAL];case 1:return[M.BILINEAR,D.SIMPLE];case 2:return[M.BILINEAR,D.NONE];case 3:return[M.NONE,D.NONE];default:return[M.OTHER,D.OTHER]}}(r.readUIntBE())})`,r),new g.m(`H: ${n.readBool()} (${n.readBool()?"Shown Frame":"Hidden Frame"})`,n))}return new g.m("VP8 RTP Payload",e,o)},defaultPT:96},{name:"ULPFEC (RFC 5109)",id:"ulpfec",inspect:function(e){let t=e.bits(0,1),r=e.bits(1,1),n=e.bits(2,1),a=e.bits(3,1),s=e.bits(4,4),o=e.bits(8,1),i=e.bits(9,7),l=e.bytes(2,2),d=e.bytes(4,4),m=e.bytes(8,2);if(r.readBool())throw new Error("Long mask unimplemented.");let u=function(e){let t=[],r=e,n=0;for(;r.size()>0;){let e=r.bytes(0,2),a=r.bytes(2,2);t.push(new g.m(`FEC Level ${n} Header`,r.bytes(0,4),[new g.m(`Protection Length: ${e.readUIntBE()}`,e),new g.m(`Mask: ${a.toHex()}`,a)])),r=r.bytes(4);let s=e.readUIntBE();t.push(new g.m(`FEC Level ${n} Payload`,r.bytes(0,s))),r=r.bytes(s),n++}return new g.m("FEC Levels",e,t)}(e.bytes(10));return new g.m("ULPFEC Packet",e,[new g.m(`E: ${t.readBool()}`,t),new g.m(`L: ${r.readBool()}`,r),new g.m(`P: ${n.readBool()}`,n),new g.m(`X: ${a.readBool()}`,a),new g.m(`CC: ${s.readUIntBE()}`,s),new g.m(`M: ${o.readBool()}`,o),new g.m(`PT: ${i.readUIntBE()}`,i),new g.m(`SN Base: ${l.readUIntBE()}`,l),new g.m(`TS Recovery: ${d.readUIntBE()}`,d),new g.m(`Length Recovery: ${m.readUIntBE()}`,m),u])},defaultPT:124}];function Y(e,t){let r=e,n=e.bits(0,2),a=e.bits(2,1),s=e.bits(3,1),o=e.bits(4,4),i=e.bits(8,1),l=e.bits(9,7),d=e.bytes(2,2),m=e.bytes(4,4),u=e.bytes(8,4),c=[new g.m(`Version: ${n.readUIntBE()}`,n),new g.m(`Padding: ${a.readBool()}`,a),new g.m(`Extension: ${s.readBool()}`,s),new g.m(`CSRC count: ${o.readUIntBE()}`,o),new g.m(`Marker: ${i.readBool()}`,i),new g.m(`Payload Type: ${l.readUIntBE()}`,l),new g.m(`Sequence Number: ${d.readUIntBE()}`,d),new g.m(`Timestamp: ${m.readUIntBE()}`,m),new g.m(`SSRC: ${u.readUIntBE()}`,u)];if((a.readBool()||o.readUIntBE()>0)&&v.assert.fail("Unimplemented."),e=e.bytes(12),s.readBool()){let t=e.bytes(0,2),r=e.bytes(2,2),n=4*r.readUIntBE(),a=e.bytes(4,n);c.push(new g.m(`Defined By Profile: 0x${t.toHex()}`,t)),c.push(new g.m(`Header Length: ${r.readUIntBE()} (${n} bytes)`,r)),48862==t.readUIntBE()?c.push(function(e){let t=[],r=e;for(;r.size()>0;){let e=r.bytes(0,1);if(0==e.readUIntBE()){r=r.bytes(1);continue}let n=e.bits(0,4),a=e.bits(4,4);console.log(n.readUIntBE()),console.log(a.readUIntBE());let s=a.readUIntBE()+1,o=r.bytes(1,s);t.push(new g.m("Header",r.bytes(0,1+s),[new g.m(`ID: ${n.readUIntBE()}`,n),new g.m(`Length: ${a.readUIntBE()} (${s} bytes)`,a),new g.m(`Data: ${o.toHex()}`,o)])),r=r.bytes(1+s)}return new g.m("Headers",e,t)}(a)):c.push(new g.m(`Header Data: ${a.toHex()}`,a)),e=e.bytes(4+n)}let f=l.readUIntBE(),b=e;if(t.has(f)){let e=t.get(f),r=e.inspect(b,t);c.push(new g.m(`Payload: ${e.name}`,b,[r]))}else c.push(new g.m(`Payload: ${L.QV(b)}`,b));return new g.m("RTP Packet",r,c)}class z extends a.Component{constructor(e){super(e),this.payloadTypeRef=a.createRef(),this.payloadParserRef=a.createRef();let t=new Map;for(let e of x)t.set(e.defaultPT,e);this.state={kind:"noData",payloadParsers:t}}componentDidMount(){if(U.e$("data")){let e=U.U2("data"),t=L.RG(e);this.loadBuffer(t)}}loadBuffer(e){U.t8("data",L.sM(e));let t=new n.a(e,0,e.byteLength);try{let e=Y(t,this.state.payloadParsers);this.setState({kind:"decodeSuccess",data:t,tree:e,payloadParsers:this.state.payloadParsers})}catch(e){this.setState({kind:"decodeFailure",data:t,error:e,payloadParsers:this.state.payloadParsers})}}render(){return a.createElement(a.Fragment,null,a.createElement("h2",null,"RTP Packet"),a.createElement(i.Y,{inputName:"input",defaultBase64:U.U2("data"),onBuffer:e=>this.loadBuffer(e)}),a.createElement("h2",null,"Payload Type Mappings"),Array.from(this.state.payloadParsers.entries()).map((([e,t])=>a.createElement("div",null,e," -> ",t.name))),a.createElement(h.Z,null,a.createElement(h.Z.Group,{controlId:"masterKey"},a.createElement(h.Z.Control,{type:"number",placeholder:"Enter the payload type number.",ref:this.payloadTypeRef}),a.createElement(h.Z.Control,{as:"select",ref:this.payloadParserRef},x.map(((e,t)=>a.createElement("option",{value:t},e.name)))),a.createElement(y,{variant:"primary",onClick:()=>{this.setState((e=>{if(this.payloadTypeRef.current.value){let t=parseInt(this.payloadTypeRef.current.value,10),r=x[parseInt(this.payloadParserRef.current.value)];e.payloadParsers.set(t,r)}return e}))}},"Set Mapping"))),"decodeSuccess"==this.state.kind&&a.createElement(d.W,{tree:this.state.tree,data:this.state.data}),"decodeFailure"==this.state.kind&&a.createElement(I.Z,null,a.createElement($.Z,{md:6},a.createElement(P.Z,{variant:"danger"},a.createElement(P.Z.Heading,null,this.state.error.toString()),a.createElement("code",null,a.createElement("pre",null,this.state.error.stack)))),a.createElement($.Z,{md:6},a.createElement(l.V,{data:this.state.data}))),"noData"==this.state.kind&&a.createElement("div",null,"No data provided yet."))}}o.render(a.createElement(z,null),document.getElementById("root"))}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,r,a,s)=>{if(!r){var o=1/0;for(m=0;m<e.length;m++){for(var[r,a,s]=e[m],i=!0,l=0;l<r.length;l++)(!1&s||o>=s)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(i=!1,s<o&&(o=s));if(i){e.splice(m--,1);var d=a();void 0!==d&&(t=d)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[r,a,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={571:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,s,[o,i,l]=r,d=0;for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var m=l(n);for(t&&t(r);d<o.length;d++)s=o[d],n.o(e,s)&&e[s]&&e[s][0](),e[o[d]]=0;return n.O(m)},r=self.webpackChunkbinary_inspectors=self.webpackChunkbinary_inspectors||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[763,850],(()=>n(4477)));a=n.O(a)})();